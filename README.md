# Django-блог

Это проект Django-блога, разработанный для демонстрации функциональности блога с использованием Django, Docker и PostgreSQL.

## О проекте

Этот проект представляет собой полнофункциональное приложение для ведения блога. Он включает в себя модели для постов, категорий, изображений и социальных сетей. Проект использует Docker для контейнеризации, что упрощает развертывание и запуск в различных средах.

## Технологии

- **Бэкенд:** Django 5
- **База данных:** PostgreSQL
- **Веб-сервер:** Gunicorn
- **Контейнеризация:** Docker, Docker Compose
- **Фронтенд:** HTML, CSS, JavaScript, Bootstrap
- **Другие зависимости:**
  - `django-taggit` для добавления тегов к постам
  - `Pillow` для обработки изображений
  - `markdown` для форматирования текста
  - `environs` для управления переменными окружения

## Структура проекта

```
django-blog/
├── app/                  # Основное приложение Django
│   ├── blog/             # Приложение блога
│   │   ├── models.py     # Модели данных (Post, Category, Images)
│   │   ├── views.py      # Представления для отображения постов
│   │   └── urls.py       # URL-маршруты для приложения блога
│   ├── settings/         # Приложение для настроек блога
│   ├── static/           # Статические файлы (CSS, JS, изображения)
│   ├── templates/        # Шаблоны HTML
│   └── tiny_cms/         # Основной проект Django
│       ├── configs/      # Файлы конфигурации (base.py, dev.py, prod.py)
│       └── urls.py       # Основные URL-маршруты проекта
├── deploy/               # Файлы для развертывания
│   ├── Dockerfile        # Dockerfile для сборки веб-приложения
│   └── requirements.txt  # Список зависимостей Python
├── docker-compose.yml    # Конфигурация Docker Compose для разработки
├── docker-compose.prod.yml # Конфигурация Docker Compose для продакшена
└── README.md             # Этот файл
```

## Установка и запуск

### Требования

- Docker
- Docker Compose

### Локальный запуск

1.  **Клонируйте репозиторий:**

    ```bash
    git clone <URL-репозитория>
    cd django-blog
    ```

2.  **Создайте файл `.env.dev`** в корневой директории проекта и добавьте в него следующие переменные окружения:

    ```env
    SECRET_KEY=your-secret-key
    DEBUG=True
    DJANGO_ALLOWED_HOSTS=localhost 127.0.0.1
    SQL_ENGINE=django.db.backends.postgresql
    SQL_DATABASE=your-db-name
    SQL_USER=your-db-user
    SQL_PASSWORD=your-db-password
    SQL_HOST=db
    SQL_PORT=5432
    ```

3.  **Соберите и запустите контейнеры:**

    ```bash
    docker-compose up --build
    ```

4.  **Примените миграции базы данных:**

    Откройте новый терминал и выполните:

    ```bash
    docker-compose exec web python manage.py migrate
    ```

5.  **Создайте суперпользователя:**

    ```bash
    docker-compose exec web python manage.py createsuperuser
    ```

6.  **Откройте приложение в браузере:**

    Перейдите по адресу `http://localhost:8000`.

### Запуск в продакшене

Для запуска в продакшене используется `docker-compose.prod.yml`. Этот файл включает в себя конфигурацию для Nginx в качестве обратного прокси и Certbot для получения SSL-сертификатов.

1.  **Настройте переменные окружения** для продакшена в файле `.env.prod`.

2.  **Запустите контейнеры:**

    ```bash
    docker-compose -f docker-compose.prod.yml up -d
    ```

## Основные возможности

- **Создание и управление постами:** Пользователи могут создавать, редактировать и удалять посты.
- **Категории и теги:** Посты можно организовывать по категориям и тегам.
- **Полнотекстовый поиск:** Реализован поиск по заголовкам и содержимому постов.
- **Изображения:** Возможность загружать и прикреплять изображения к постам.
- **Настройки блога:** Глобальные настройки, такие как название блога и ссылки на социальные сети.
- **Логирование:** Ведется логирование действий с постами, категориями и изображениями.
